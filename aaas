#!/bin/bash
# fix-wallets.sh - Genera BTC/ETH VALIDi
cd ~/ghostmixer

cat > wallets-fixed.py << 'EOF'
#!/usr/bin/env python3
import secrets
from bitcoinlib.wallets import Wallet
from eth_account import Account

# BTC VALID (usa bitcoinlib)
print("ðŸ”§ Generando BTC valido...")
btc_wallet = Wallet.create('anon_btc', keys=secrets.token_hex(32), network='bitcoin')
BTC_ADDR = btc_wallet.get_key().address
BTC_WIF = btc_wallet.get_key().wif
print(f"âœ… BTC_WALLET={BTC_ADDR}")
print(f"BTC_WIF={BTC_WIF}")

# ETH VALID
Account.enable_unaudited_hdwallet_features()
eth_wallet = Account.create()
print(f"âœ… ETH_WALLET={eth_wallet.address}")
print(f"ETH_PK={eth_wallet.key.hex()}")

# Salva
with open('wallets-fixed.txt', 'w') as f:
    f.write(f"BTC_WALLET={BTC_ADDR}\n")
    f.write(f"ETH_WALLET={eth_wallet.address}\n")
    f.write(f"ETH_PK={eth_wallet.key.hex()}\n")
    f.write(f"BTC_WIF={BTC_WIF}\n")
print("ðŸ’¾ wallets-fixed.txt")
EOF

# Install bitcoinlib + Esegui
pip3 install bitcoinlib
python3 wallets-fixed.py
cat wallets-fixed.txt